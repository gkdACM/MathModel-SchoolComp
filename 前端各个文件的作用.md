# 前端各个文件的作用

面向维护与交接，说明主要文件/目录的职责与关系。以下仅列出核心与常用项。

## 项目与构建
- `frontend/package.json`：管理依赖与脚本（如 `dev`、`build`、`preview`）。
- `frontend/package-lock.json`：依赖锁定文件，保证安装一致性。
- `frontend/vite.config.js`：Vite 构建与开发配置；重要：将以 `/api` 开头的请求代理到后端（`VITE_API_TARGET`）。
- `frontend/.env.development`：开发环境变量，包含 `VITE_API_TARGET` 指向后端地址（默认 `http://localhost:8000`）。
- `frontend/README.md`：前端项目说明与使用指引。

## 应用入口与基础
- `frontend/index.html`：单页应用宿主页面，Vite 注入打包产物。
- `frontend/src/main.js`：应用入口，创建并挂载 Vue 应用，注册路由与状态等。
- `frontend/src/App.vue`：根组件，承载全局布局与路由视图渲染。
- `frontend/src/style.css`：全局样式文件，基础样式与重置。

## 路由与守卫
- `frontend/src/router/index.js`：路由配置与导航守卫。
  - 注册核心路由（管理员、教师、学生等入口）。
  - `protectedRoutes` 列表用于统一保护管理员路由，结合守卫进行鉴权。
  - 包含管理员登录 `AdminManagerLogin`、控制台 `AdminDashboard`、公告管理 `AdminAnnouncements` 等路径。

## API 封装
- `frontend/src/api/config.js`：API 基址配置。
  - 开发环境默认 `API_URL = '/api'`，通过 Vite 代理到后端，避免 CORS 与域名问题。
  - 生产环境可用 `VITE_API_URL` 覆盖真实后端地址。
- `frontend/src/api/adminAnnouncements.js`：管理员公告管理 API 封装。
  - 分页查询、创建、更新、删除。
  - 统一携带管理员鉴权头或 Token。
- 其他 API 模块（按需使用）：
  - `frontend/src/api/public.js`：公共数据/公开接口访问。
  - `frontend/src/api/auth.js`：登录、登出、鉴权相关接口。
  - `frontend/src/api/adminTeams.js`：管理员管理队伍相关接口。
  - `frontend/src/api/teacher.js`、`frontend/src/api/teachers.js`：教师端相关接口。
  - `frontend/src/api/competitions.js`：竞赛相关接口。
  - `frontend/src/api/audit.js`：审计日志查询相关接口。
  - `frontend/src/api/student.js`：学生端相关接口。
  - `frontend/src/api/register.js`：注册流程接口。

## 视图页面
- `frontend/src/views/AdminManagerLogin.vue`：管理员登录页，发起管理员鉴权。
- `frontend/src/views/AdminDashboard.vue`：管理员控制台首页；包含快捷入口（已新增“公告管理/发布公告”按钮）。
- `frontend/src/views/AdminAnnouncements.vue`：管理员公告管理页。
  - 展示公告列表与分页；支持创建、编辑、删除；调用 `adminAnnouncements.js`。
- 其他视图（示例）：`Student`、`Teacher`、`Competitions` 等模块页面，按路由组织。

## 组件与资源
- `frontend/src/components/`：通用组件目录（表格、弹窗、表单等复用 UI）。
- `frontend/src/assets/`：静态资源（图片、图标、字体等）。

## 状态管理
- `frontend/src/store/`：全局状态（如用户信息、权限）与模块化管理，供各视图与组件共享。

## 运行时行为要点
- 开发模式：访问 `http://localhost:5173/`；所有以 `/api` 开头的请求由 Vite 代理到 `http://localhost:8000`。
- 生产模式：建议通过 `VITE_API_URL` 配置真实后端地址，避免代理；静态资源由生产服务器或 CDN 提供。

---

维护建议：
- 新增页面时在 `views/` 下创建，并在 `router/index.js` 注册路由与守卫策略。
- 新增后端接口时，先在 `src/api/` 封装，再在视图或组件中引用；保持请求错误处理一致。
- 修改 API 基址仅需更新 `src/api/config.js` 或对应环境变量。